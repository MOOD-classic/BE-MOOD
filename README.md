# 👉[MOOD-CLASSIC WEB SITE][mood-link]

[mood-link]: https://fe-mood.vercel.app/ 'Mood 바로가기'

#### 클래식 음악을 통한 감정적인 치유와 공감을 드립니다.

Mood Classic 에서 특별히 엄선한 클래식 음악에 대한 소통을 통해 서로의 마음을 돌볼 수 있습니다.

---

## 프로젝트 소개

### 🏛 Architecture

![image](https://user-images.githubusercontent.com/122267164/233242245-9e39e72e-62df-4e7d-a144-f2734b0e122a.png)

<hr/>

### ⏳ 프로젝트 타임라인

- 3월 10일 실전 프로젝트 시작 
- 4월 12일 배포 & 마케팅 & UT 시작
- 4월 21일 최종 발표

<hr/>

### 🎹 기능


#### ✅ 영역별 감정 선택 

- 감정 영역 클릭 시에 백엔드에서 검수된 로직으로 감정에 알맞는 클래식을 추천합니다.

#### ✅ 무드 차트

- 좋아요 / 스트리밍 순 별로 조회 기준을 설정하여 실시간으로 인기 있는 차트를 보여줍니다.

#### ✅ 설문 조사

- 구체적인 질문을 통해 유저의 감정을 파악하고 그에 알맞는 클래식 음악을 추천합니다.

#### ✅ 감정 채팅방 (Socket.io)

- 감정에 따른 채팅방을 구별하여 같은 감정에 공감하는 유저들의 실시간 채팅 기능입니다.

#### ✅ 작곡가별 음악 조회

- 클래식 음악을 거장 작곡가별(베토벤, 쇼팽, 비발디, 모짜르트)로 구별하여 확인할 수 있습니다. 클래식 음악을 지속적으로 업데이트합니다.

#### ✅ 검색으로 작곡가 및 음악 조회

- 음악 검색 시에 태그(감정), 작곡가 이름(한, 영 둘 전부), 음악 제목별로 음악을 찾을 수 있습니다.

#### ✅ 음악 상세 조회 시 댓글 작성

- 특정 음악을 조회하면 그 음악에 대한 댓글 작성을 통해 음악에 대한 이야기를 공유할 수 있습니다.  

<hr/>

## 🔧 Tools

#### Design

<p>
  <img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=Figma&logoColor=white"/>
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
<br>
  <img src="https://img.shields.io/badge/Adobe Photoshop-31A8FF?style=for-the-badge&logo=Adobe Photoshop&logoColor=white">
  <img src="https://img.shields.io/badge/Adobe Illustrator-FF9A00?style=for-the-badge&logo=Adobe Illustrator&logoColor=white">
</p>

#### Back-end


![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E)
![NodeJS](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)
<br>
![NPM](https://img.shields.io/badge/NPM-%23000000.svg?style=for-the-badge&logo=npm&logoColor=white)
![Express.js](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)
<br>
![AWS](https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white)
![Amazon S3](https://img.shields.io/badge/Amazon%20S3-Latest-orange)
![Amazon CloudFront](https://img.shields.io/badge/Amazon%20CloudFront-Latest-orange)
![Amazon CodeDeploy](https://img.shields.io/badge/Amazon%20CodeDeploy-Latest-orange)
<br>
![MySQL](https://img.shields.io/badge/mysql-%2300f.svg?style=for-the-badge&logo=mysql&logoColor=white)
![Sequelize](https://img.shields.io/badge/Sequelize-52B0E7?style=for-the-badge&logo=Sequelize&logoColor=white)
<br>
![Redis](https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white)
<br>
<img src="https://img.shields.io/badge/JSON Web Tokens-000000?style=for-the-badge&logo=JSON Web Tokens&logoColor=white">
<br>
![Jest](https://img.shields.io/badge/Jest-C21325?style=for-the-badge&logo=Jest&logoColor=white)
![Socket.io](https://img.shields.io/badge/Socket.io-black?style=for-the-badge&logo=socket.io&badgeColor=010101)


#### Dev tools

<p> 
  <img src="https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white">
  <img src="https://img.shields.io/badge/git-%23F05033.svg?style=for-the-badge&logo=git&logoColor=white">
  <img src="https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/github%20actions-%232671E5.svg?style=for-the-badge&logo=githubactions&logoColor=white">
<br>

## 🧨이슈 및 트러블슈팅

<details>
<summary><b>➡️ 문제1</b></summary>
  
> **문제** : redis 무한 루프 문제
>
> **해결** : ![image](https://user-images.githubusercontent.com/63998542/231757396-78c3cc6b-60fa-4bfe-b369-2e94844b3853.png)

  
</details>

<details>
<summary><b>➡️ 문제2</b></summary>
  
> **문제** : 카카오 로그인시 프론트와 백엔드 분업
>
> **해결** : ![image](https://user-images.githubusercontent.com/63998542/231757738-2a69d378-87b1-4989-a84c-71e1955c2a24.png)
</details>

<details>
<summary><b>➡️ 문제3</b></summary>
  
> **문제** : 응답 시간이 너무 오래걸리는 로직
>
> **해결** : ![image](https://user-images.githubusercontent.com/63998542/231757993-4ea0944d-0c89-410b-a8f2-d6fd42ee57f6.png)
</details>

<details>
<summary><b>➡️ 문제4</b></summary>
  
> **문제** : 음악의 분위기를 태그로 저장하여 검색에서 사용할 수 있게 구현
>
> **해결** : ![image](https://user-images.githubusercontent.com/122267164/233242603-5bfba9a2-6311-4700-af6f-8510e28ee352.png)
</details>

<details>
<summary><b>➡️ 문제5</b></summary>
  
> **문제** : 클래식 음악에 감정 결합하기
>
> **해결** : ![image](https://user-images.githubusercontent.com/122267164/233242713-1bc27497-0d37-47b3-a991-72a2179760de.png)
</details>

<details>
<summary><b>➡️ 문제6</b></summary>
  
> **문제** : LAP(layerd architecture pattern) 환경에서 테스트 코드 작성시 DB Mocking 문제
>
> **해결** : LAP (layered architecture pattern) 아키텍쳐 환경에서의 repository layer 테스트 코드 작성시, repository layer에서 sequelize-cli 의 model 을 직접 가져와 사용하고 있었습니다. sequelize module에 의존하고 있는 repository layer 의 코드를 constructor injection 방식의 의존성 주입을 통해 테스트 코드 작성을 가능하게 했습니다. 

</details>

## 📃 유저 피드백 개선
  
<details>
<summary> UT 불편한 부분 피드백 </summary>
    - ~~로고 누를 시에 추천 페이지로 이동~~
    - ~~버튼 글자 가운데 정렬~~
    - ~~클래식이 한글이면 좋겠음~~
    - `서비스를 이해하는데 어렵고 시간이 걸림`
    - `랜딩 페이지에서 작곡가들의 대표 곡이 있는데, 그 부분을 클릭하면 곡이 재생되는 것`
    - `헤더에 로그아웃, 마이페이지가 있으면 좋을 것 같아요!`
    - `사용자에 따라 하단 플레이어 바는 접고 열고가 가능했더라면 더 좋았을 것 같아요.`
    - ~~랜딩 페이지~~
        - 랜딩 페이지에 로그인이나 가입하기가 안 보이는 것이 의도인 것 같긴 하나... 우상단에 심플하게 아이콘으로 만이라도 표시했으면 어땠을까 하는 아쉬움이 있습니다.
            - ⇒ 가운데 버튼을 “로그인 하기” 로 변경
        - `음악 감상하러 가기 외 다른 기능도 있으면 좋겠음`
    - 로그인 / 회원가입
        - 카카오 로그인시에 회원 탈퇴 기능
            - ~~이메일 인증 시 탈퇴 가능~~
        - ~~비밀번호 입력 전에 영문, 숫자 포함 몇 글자인지 알려주는 것~~
        - ~~이메일 .co만 입력해도 가입이 됨~~
        - [x]  ~~일반 유저 회원가입을 찾기 어려움~~
        - [x]  ~~로그인 버튼, 소셜 로그인 버튼 위치 크기 맞추기~~
        - [x]  일반 로그인 할 때 밸리데이션 부분과 부제목 간격
        - [x]  ~~카카오 로그인 버튼~~
        - ~~카카오 로그인 시 alert ⇒ 카카오 로딩중.. 문구~~
        - ~~APP에 사진이 없고 mood라는 앱이름과 김상목 이라는 성함이 나오는데 수정~~
        - `font size`
        - `카카오 로그인 성공 보다는 환영하는 멘트`
    - 마이페이지
        - 마이페이지 좋아요 / 스크랩 차이
        - 마이페이지 이동 중 error
        - 소셜 로그인 시 마이페이지 이동 → 에러
        - ~~프로필 이미지가 작을 시 작게 반영되어 이를 확대하거나 맞춰야 할 것 같음~~
        - [x]  마이페이지 프로필 사진 변경 탭 → 프로필 변경으로
        - [x]  회원 수정 → 버튼 정렬
        - [x]  닉네임 수정 시 중복 확인
        - `회원 탈퇴 시 채팅방 목록`
        - 프로필 수정
            - ~~프로필 이미지 변경 시 변경이 안 되는 경우 있음~~
            - 프로필 이미지 움짤
                - ~~용량 제한으로  5MB~~
            - ~~프로필 수정 후 채팅방 입장 시 이전 프로필 참여자가 남아있음~~
            - [x]  프로필 수정 후 좌측 네비바 내의 프로필 정보 반영 안 됨
    - 설문조사
        - ~~노래 자동 재생 되도록~~
        - 마지막 10번 갔을 때 안 넘어가는 경우
        - ~~"다음 문항으로"만 활성화되고 "이전 문항으로"는 활성화 되지 않은 건가 하는 오해가 있었습니다. 또한 "이전 문항으로" 버튼과 글씨의 조합이 시각장애인들이 보기에는 대비차가 옅어서 조금더 분명한 색구분이 있으면 좋을 것 같습니다.~~
    - ~~채팅방~~
        - ~~채팅창에서 채팅 내역의 line-height 값은 한 30xp 정도로 조금 줄여도 좋을 것 같습니다.~~
        - ~~채팅 참여자 인원이 실시간 적용되지 않음~~
        - `감정별 채팅방의 의미`
            - `클래식 품평회 등으로 변경하면 좋을 것 같음`
            - `모든 사람들이 같은 음악을 듣는 방`
    - 추천 페이지
        - ~~랜딩에서 추천 페이지 이동 시 스크롤 위치~~
        - 감정 클릭 영역 interactive
        - ~~차트~~
            - ~~랭크곡들이 자동으로 넘어가니 읽다가 기다려야한다 → 자동이 아닌 캐러샐 같은 것으로~~
            - ~~차트 cursor: pointer~~
        - `우울한, 긍정적인, 생기넘치는, 차분한 이라는 분류 글자도 클릭할 수 있는 영역안에 있는 것 보다는 그 표시 안쪽으로 박스를 두고 사분면을 그려주는 것이 더 좋을 것 같습니다.`
    - ~~밸리데이션~~
        - ~~댓글, 대댓글 수 / 공백~~
        - [x]  ~~닉네임 수 / 공백~~
        - ~~채팅 글자 수~~
        - ~~채팅 공백만 있으면 안 됨~~
    - ~~검색~~
        - ~~검색 공백~~
        - ~~어떤 것을 검색해야 할지 모르겠음~~
            - ~~“작곡가, 감정, 곡 명을 검색해보세요”~~
        - ~~검색 후 없는 키워드로 다시 검색 시 노래가 남아있는 부분~~
        - ~~없는 것을 검색했을 때, 그냥 맨 위에 검색에 대한 결과가 없다고 나오는게 좋을 것 같음~~
        
        ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b38b97c8-bac8-4291-bbe0-739fbee32f38/Untitled.png)
        
        - ~~한글로 곡 명 검색 가능~~
    - ~~사이드 바~~
        - `메뉴를 닫는 x의 위치가 새로 뜨는 메뉴 화면 안에 구조적으로 위치`
        - ~~nav 바 눌렀을 때 음영 부분 클릭 닫히게~~
        - ~~현재 페이지에 있는 경우 사이드 바에 불 들어오는 방법 혹은 background: rgba(139, 125, 118, 0.5);~~
        - ~~소개페이지 추가~~
    - ~~노래 상세 페이지~~
        - ~~대댓글 ui~~
        - ~~play 버튼~~
        - ~~비회원 댓글 작성 시 로그인이 필요하다는 문구~~
            - ~~alert~~
        - `혹은 비회원도 댓글 작성 가능?`
        - ~~댓글 공백~~
    - ~~작곡가 별~~
        - `항상 베토벤이 먼저 나오도록 순서대로 정해져있는데, 매 방문시 랜덤으로 추천해주면 재밌지 않을까 그냥 생각만 해봤습니다.`
    - 디자인
        - 한글폰트의 브라우저 내에서 통일되어있지않아 엉성한 느낌을 줍니다 메인에서 보여주었던 NotoSerif로 통일하시는게 페이지와 더 어울릴듯합니다
        - 추천페이지가 전체적으로 너무 밝아 집중해야할 부분이 눈에 들어오지 않습니다
        - PC에서 보았을 때 UI가 조금 넓직하다는 느낌
        - 배경이 너무 하얗다.
        - 채팅방에서 감정별로 보여주는 선들은 지휘자의 지휘선을 나타내는 걸까요? 선의 굵기에 강약이 있으면 조금 더 깊은 감정을 담아낼 수 있을 것 같습니다.

  
<hr>

| 이름       | 포지션       | 
| ---------- | ------------ | 
| **김상목** | `백엔드` | 
| **신동윤** | `백엔드` |
| **곽승민** | `백엔드` | 
| **이재욱** | `프론트엔드` | 
| **김명주** | `프론트엔드` | 
| **이인영** | `프론트엔드` | 
| **이예림** | `디자이너` |
